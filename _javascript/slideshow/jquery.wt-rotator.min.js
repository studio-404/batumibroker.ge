(function(a){var b;a.fn.undoChanges=function(){b.undoChanges();return this};a.fn.updateChanges=function(){b.updateChanges();return this};a.fn.setTransition=function(c){b.setTransition(c);return this};a.fn.setEasing=function(c){b.setEasing(c);return this};a.fn.setTextEffect=function(c){b.setTextEffect(c);return this};a.fn.setTooltipType=function(c){b.setTooltipType(c);return this};a.fn.setCpanelAlign=function(c){b.setCpanelAlign(c);return this};a.fn.setCpanelPos=function(c){b.setCpanelPos(c);return this};a.fn.setThumbs=function(c){b.setThumbs(c);return this};a.fn.setDButtons=function(c){b.setDButtons(c);return this};a.fn.setPlayButton=function(c){b.setPlayButton(c);return this};a.fn.setTooltip=function(c){b.setTooltip(c);return this};a.fn.setTimerBar=function(c){b.setTimerBar(c);return this};a.fn.setSideButtons=function(c){b.setSideButtons(c);return this};a.fn.setThumbImg=function(c){b.setThumbImg(c);return this};a.fn.setMouseoverPause=function(c){b.setMouseoverPause(c);return this};a.fn.setMouseoverCPanel=function(c){b.setMouseoverCPanel(c);return this};a.fn.setMouseoverText=function(c){b.setMouseoverText(c);return this};a.fn.wtRotator=function(D){var m="inside";var s="outside";var F=0;var G=1;var l={TL:0,TC:1,TR:2,BL:3,BC:4,BR:5,LT:6,LC:7,LB:8,RT:9,RC:10,RB:11};var f=0;var k={"block.top":f++,"block.right":f++,"block.bottom":f++,"block.left":f++,"block.drop":f++,"diag.fade":f++,"diag.exp":f++,"rev.diag.fade":f++,"rev.diag.exp":f++,"block.fade":f++,"block.exp":f++,"block.top.zz":f++,"block.bottom.zz":f++,"block.left.zz":f++,"block.right.zz":f++,"spiral.in":f++,"spiral.out":f++,"vert.tl":f++,"vert.tr":f++,"vert.bl":f++,"vert.br":f++,"fade.left":f++,"fade.right":f++,"alt.left":f++,"alt.right":f++,"blinds.left":f++,"blinds.right":f++,"vert.random.fade":f++,"horz.tl":f++,"horz.tr":f++,"horz.bl":f++,"horz.br":f++,"fade.top":f++,"fade.bottom":f++,"alt.top":f++,"alt.bottom":f++,"blinds.top":f++,"blinds.bottom":f++,"horz.random.fade":f++,none:f++,fade:f++,"h.slide":f++,"v.slide":f++,random:f++};var B={fade:0,down:1,right:2,up:3,left:4,none:5};var p=250;var h=75;var c=50;var r=5000;var y=800;var x=500;var o=600;var z=4;var g="updatetext";var w="updatelist";var A=(jQuery.browser.msie&&parseInt(jQuery.browser.version)<=7);function d(K,T,R,V,Q,L,M){var N;var I;var P;var U=null;var W=function(){P=Math.ceil(T/V);if(P>p){V=Math.ceil(T/p);P=Math.ceil(T/V)}var Y="";for(var X=0;X<P;X++){Y+="<div class='vpiece' id='"+X+"'></div>"}K.addToScreen(Y);N=K.$el.find("div.vpiece");I=new Array(P);N.each(function(Z){a(this).css({left:(Z*V),height:R});I[Z]=a(this)})};this.clear=function(){clearInterval(U);N.stop(true).css({"z-index":2,opacity:0})};this.displayContent=function(X,Y){H(X,Y);if(Y==k["vert.random.fade"]){S(X)}else{J(X,Y)}};var H=function(X,Y){switch(Y){case k["vert.tl"]:case k["vert.tr"]:O(X,-R,1,V,false);break;case k["vert.bl"]:case k["vert.br"]:O(X,R,1,V,false);break;case k["alt.left"]:case k["alt.right"]:O(X,0,1,V,true);break;case k["blinds.left"]:case k["blinds.right"]:O(X,0,1,0,false);break;default:O(X,0,0,V,false)}};var O=function(aa,X,Y,ac,ae){var ab=aa.attr("src");var ad=0;var Z=0;if(K.autoCenter()){ad=(R-aa.height())/2;Z=(T-aa.width())/2}N.each(function(ag){var af=((-ag*V)+Z);if(ae){X=(ag%2)==0?-R:R}a(this).css({background:Q+" url('"+ab+"') no-repeat",backgroundPosition:af+"px "+ad+"px",opacity:Y,top:X,width:ac,"z-index":3})})};var J=function(Z,aa){var ac,Y,ab,X;switch(aa){case k["vert.tl"]:case k["vert.bl"]:case k["fade.left"]:case k["blinds.left"]:case k["alt.left"]:ac=0;Y=P-1;ab=1;break;default:ac=P-1;Y=0;ab=-1}U=setInterval(function(){N.eq(ac).animate({top:0,opacity:1,width:V},L,K.easing(),function(){if(a(this).attr("id")==Y){K.setComplete(Z)}});if(ac==Y){clearInterval(U)}ac+=ab},M)};var S=function(Y){u(I);var X=0;var Z=0;U=setInterval(function(){I[X++].animate({opacity:1},L,K.easing(),function(){if(++Z==P){K.setComplete(Y)}});if(X==P){clearInterval(U)}},M)};W()}function v(K,T,R,V,Q,L,M){var N;var I;var P;var U=null;var W=function(){P=Math.ceil(R/V);if(P>p){V=Math.ceil(R/p);P=Math.ceil(R/V)}var Y="";for(var X=0;X<P;X++){Y+="<div class='hpiece' id='"+X+"'><!-- --></div>"}K.addToScreen(Y);N=K.$el.find("div.hpiece");I=new Array(P);N.each(function(Z){a(this).css({top:(Z*V),width:T});I[Z]=a(this)})};this.clear=function(){clearInterval(U);N.stop(true).css({"z-index":2,opacity:0})};this.displayContent=function(X,Y){H(X,Y);if(Y==k["horz.random.fade"]){S(X)}else{J(X,Y)}};var H=function(X,Y){switch(Y){case k["horz.tr"]:case k["horz.br"]:O(X,T,1,V,false);break;case k["horz.tl"]:case k["horz.bl"]:O(X,-T,1,V,false);break;case k["alt.top"]:case k["alt.bottom"]:O(X,0,1,V,true);break;case k["blinds.top"]:case k["blinds.bottom"]:O(X,0,1,0,false);break;default:O(X,0,0,V,false)}};var O=function(ab,aa,Y,X,ae){var ac=ab.attr("src");var ad=0;var Z=0;if(K.autoCenter()){ad=(R-ab.height())/2;Z=(T-ab.width())/2}N.each(function(ag){var af=((-ag*V)+ad);if(ae){aa=(ag%2)==0?-T:T}a(this).css({background:Q+" url('"+ac+"') no-repeat",backgroundPosition:Z+"px "+af+"px",opacity:Y,left:aa,height:X,"z-index":3})})};var J=function(Y,Z){var ab,X,aa;switch(Z){case k["horz.tl"]:case k["horz.tr"]:case k["fade.top"]:case k["blinds.top"]:case k["alt.top"]:ab=0;X=P-1;aa=1;break;default:ab=P-1;X=0;aa=-1}U=setInterval(function(){N.eq(ab).animate({left:0,opacity:1,height:V},L,K.easing(),function(){if(a(this).attr("id")==X){K.setComplete(Y)}});if(ab==X){clearInterval(U)}ab+=aa},M)};var S=function(Y){u(I);var X=0;var Z=0;U=setInterval(function(){I[X++].animate({opacity:1},L,K.easing(),function(){if(++Z==P){K.setComplete(Y)}});if(X==P){clearInterval(U)}},M)};W()}function n(R,S,N,T,Q,H,aa){var P;var I;var U;var M;var O;var ac;var ab;var Z=function(){M=Math.ceil(N/T);O=Math.ceil(S/T);ac=M*O;if(ac>p){T=Math.ceil(Math.sqrt((N*S)/p));M=Math.ceil(N/T);O=Math.ceil(S/T);ac=M*O}var ag="";for(var af=0;af<M;af++){for(var ae=0;ae<O;ae++){ag+="<div class='block' id='"+af+"-"+ae+"'></div>"}}R.addToScreen(ag);I=R.$el.find("div.block");I.data({tlId:"0-0",trId:"0-"+(O-1),blId:(M-1)+"-0",brId:(M-1)+"-"+(O-1)});var ad=0;U=new Array(ac);P=new Array(M);for(var af=0;af<M;af++){P[af]=new Array(O);for(var ae=0;ae<O;ae++){P[af][ae]=U[ad++]=I.filter("#"+(af+"-"+ae)).data("top",af*T)}}};this.clear=function(){clearInterval(ab);I.stop(true).css({"z-index":2,opacity:0})};this.displayContent=function(ad,ae){switch(ae){case k["diag.fade"]:W(ad,0,T,0);X(ad,{opacity:1},false);break;case k["diag.exp"]:W(ad,0,0,0);X(ad,{opacity:1,width:T,height:T},false);break;case k["rev.diag.fade"]:W(ad,0,T,0);X(ad,{opacity:1},true);break;case k["rev.diag.exp"]:W(ad,0,0,0);X(ad,{opacity:1,width:T,height:T},true);break;case k["block.fade"]:W(ad,0,T,0);J(ad);break;case k["block.exp"]:W(ad,1,0,0);J(ad);break;case k["block.drop"]:W(ad,1,T,-(M*T));J(ad);break;case k["block.top.zz"]:case k["block.bottom.zz"]:W(ad,0,T,0);L(ad,ae);break;case k["block.left.zz"]:case k["block.right.zz"]:W(ad,0,T,0);V(ad,ae);break;case k["spiral.in"]:W(ad,0,T,0);Y(ad,false);break;case k["spiral.out"]:W(ad,0,T,0);Y(ad,true);break;default:W(ad,1,0,0);K(ad,ae)}};var W=function(ad,aj,an,ai){var ak=0;var af=0;if(R.autoCenter()){ak=(N-ad.height())/2;af=(S-ad.width())/2}var al=ad.attr("src");for(var ah=0;ah<M;ah++){for(var ag=0;ag<O;ag++){var am=((-ah*T)+ak);var ae=((-ag*T)+af);P[ah][ag].css({background:Q+" url('"+al+"') no-repeat",backgroundPosition:ae+"px "+am+"px",opacity:aj,top:(ah*T)+ai,left:(ag*T),width:an,height:an,"z-index":3})}}};var X=function(ad,al,ai){var ak=new Array(ac);var ae,ah,af,ag;var am=(M-1)+(O-1);if(ai){ae=am;ah=-1;af=-1;ag=I.data("tlId")}else{ae=0;ah=am+1;af=1;ag=I.data("brId")}var aj=0;while(ae!=ah){i=Math.min(M-1,ae);while(i>=0){j=Math.abs(i-ae);if(j>=O){break}ak[aj++]=P[i][j];i--}ae+=af}aj=0;ab=setInterval(function(){ak[aj++].animate(al,H,R.easing(),function(){if(a(this).attr("id")==ag){R.setComplete(ad)}});if(aj==ac){clearInterval(ab)}},aa)};var V=function(ag,ah){var af=true;var ae=0,ad,aj,ai;if(ah==k["block.left.zz"]){ai=(O%2==0)?I.data("trId"):I.data("brId");ad=0;aj=1}else{ai=(O%2==0)?I.data("tlId"):I.data("blId");ad=O-1;aj=-1}ab=setInterval(function(){P[ae][ad].animate({opacity:1},H,R.easing(),function(){if(a(this).attr("id")==ai){R.setComplete(ag)}});if(P[ae][ad].attr("id")==ai){clearInterval(ab)}(af?ae++:ae--);if(ae==M||ae<0){af=!af;ae=(af?0:M-1);ad+=aj}},aa)};var L=function(ag,ah){var af=true;var ae,ad=0,aj,ai;if(ah==k["block.top.zz"]){ai=(M%2==0)?I.data("blId"):I.data("brId");ae=0;aj=1}else{ai=(M%2==0)?I.data("tlId"):I.data("trId");ae=M-1;aj=-1}ab=setInterval(function(){P[ae][ad].animate({opacity:1},H,R.easing(),function(){if(a(this).attr("id")==ai){R.setComplete(ag)}});if(P[ae][ad].attr("id")==ai){clearInterval(ab)}(af?ad++:ad--);if(ad==O||ad<0){af=!af;ad=(af?0:O-1);ae+=aj}},aa)};var K=function(af,ag){var ai=new Array(ac);var aj;var ah=0;switch(ag){case k["block.left"]:aj=I.data("brId");for(var ad=0;ad<O;ad++){for(var ae=0;ae<M;ae++){ai[ah++]=P[ae][ad]}}break;case k["block.right"]:aj=I.data("blId");for(var ad=O-1;ad>=0;ad--){for(var ae=0;ae<M;ae++){ai[ah++]=P[ae][ad]}}break;case k["block.top"]:aj=I.data("brId");for(var ae=0;ae<M;ae++){for(var ad=0;ad<O;ad++){ai[ah++]=P[ae][ad]}}break;default:aj=I.data("trId");for(var ae=M-1;ae>=0;ae--){for(var ad=0;ad<O;ad++){ai[ah++]=P[ae][ad]}}}ah=0;ab=setInterval(function(){ai[ah++].animate({width:T,height:T},H,R.easing(),function(){if(a(this).attr("id")==aj){R.setComplete(af)}});if(ah==ac){clearInterval(ab)}},aa)};var J=function(ae){u(U);var ad=0;count=0;ab=setInterval(function(){U[ad].animate({top:U[ad].data("top"),width:T,height:T,opacity:1},H,R.easing(),function(){if(++count==ac){R.setComplete(ae)}});ad++;if(ad==ac){clearInterval(ab)}},aa)};var Y=function(ad,al){var ak=0,aj=0;var ao=M-1;var ap=O-1;var af=0;var ai=ap;var an=new Array();while(ao>=0&&ap>=0){var am=0;while(true){an[an.length]=P[ak][aj];if((++am)>ai){break}switch(af){case 0:aj++;break;case 1:ak++;break;case 2:aj--;break;case 3:ak--}}switch(af){case 0:af=1;ai=(--ao);ak++;break;case 1:af=2;ai=(--ap);aj--;break;case 2:af=3;ai=(--ao);ak--;break;case 3:af=0;ai=(--ap);aj++}}if(an.length>0){if(al){an.reverse()}var ah=an.length-1;var ae=an[ah].attr("id");var ag=0;ab=setInterval(function(){an[ag].animate({opacity:1},H,R.easing(),function(){if(a(this).attr("id")==ae){R.setComplete(ad)}});if(ag==ah){clearInterval(ab)}ag++},aa)}};Z()}function C(bN,bJ){var av;var aB=e(bJ.width,825);var bE=e(bJ.height,300);var by=E(bJ.button_margin,4);var aw=bJ.transition.toLowerCase();var aF=e(bJ.transition_speed,y);var ac=e(bJ.delay,r);var aY=bJ.auto_start;var aa=bJ.cpanel_position.toLowerCase();var bl=bJ.cpanel_align.toUpperCase();var az=e(bJ.thumb_width,24);var ay=e(bJ.thumb_height,24);var an=e(bJ.button_width,24);var bc=e(bJ.button_height,24);var bw=bJ.display_thumbimg;var K=bJ.display_thumbs;var a8=bJ.display_side_buttons;var aW=bJ.display_dbuttons;var aU=bJ.display_playbutton;var a5=bJ.display_numbers;var ai=bJ.display_timer;var aM=bJ.cpanel_mouseover;var aL=bJ.text_mouseover;var ah=bJ.mouseover_pause;var ar=bJ.tooltip_type.toLowerCase();var aH=bJ.text_effect.toLowerCase();var bK=bJ.text_sync;var aG=bJ.play_once;var ad=bJ.auto_center;var bn=bJ.easing;var ap;var aD;var O;var M;var V;var a0;var bf;var bt;var ax;var bo;var a4;var am;var aq;var ao;var a9;var bq;var aE;var a2;var I;var Z;var J;var bg;var aS;var aj;var Q;var W;var aT;var bj;var X;var R;var aO;var af;this.$el=bN;this.init=function(){av=bN.find(">div:first").clone();ao=bN.find(".wt-rotator");a9=ao.find("div.screen");J=ao.find("div.c-panel");Q=J.find("div.buttons");bg=J.find("div.thumbnails");aS=bg.find(">ul");aj=aS.find(">li");bt=null;aD=0;O=-1;ap=aj.size();aO=new Array(ap);ax=bo=a4=false;bz(k[aw]);aq=l[bl]>=l.LT?true:false;if(a8){aW=false}if(bw){a5=false}ao.css({width:aB,height:bE});aV();ba();bi();bI();aK();if(aL){ao.hover(al,au)}else{ao.bind(g,bk)}var bO=a9.css("background-color");if(a4){V=new d(this,aB,bE,e(bJ.vert_size,c),bO,aF,e(bJ.vstripe_delay,75))}if(bo){a0=new v(this,aB,bE,e(bJ.horz_size,c),bO,aF,e(bJ.hstripe_delay,75))}if(ax){bf=new n(this,aB,bE,e(bJ.block_size,h),bO,aF,e(bJ.block_delay,25))}br(0);aR(aD)};this.setComplete=function(bO){H(bO)};this.addToScreen=function(bO){aE.append(bO)};this.autoCenter=function(){return ad};this.easing=function(){return bn};var aV=function(){var bO="<div class='desc'><div class='inner-bg'></div><div class='inner-text'></div></div>								<div class='preloader'></div>								<div id='timer'></div>";a9.append(bO);a2=a9.find("div.desc");I=a9.find("div.preloader");a9.css({width:aB,height:bE});af=a2.find("div.inner-text");bq=a("<div id='strip'></div>");if(aw=="h.slide"){a9.append(bq);bq.css({width:2*aB,height:bE});aj.removeAttr("effect")}else{if(aw=="v.slide"){a9.append(bq);bq.css({width:aB,height:2*bE});aj.removeAttr("effect")}else{a9.append("<a href='#'></a>");aE=a9.find(">a:first")}}};var bI=function(){if(K||aW||aU){if(aa==m){switch(l[bl]){case l.BL:a3("left");S("bottom");break;case l.BC:a3("center");S("bottom");break;case l.BR:a3("right");S("bottom");break;case l.TL:a3("left");S("top");break;case l.TC:a3("center");S("top");break;case l.TR:a3("right");S("top");break;case l.LT:bm("top");bp("left");break;case l.LC:bm("center");bp("left");break;case l.LB:bm("bottom");bp("left");break;case l.RT:bm("top");bp("right");break;case l.RC:bm("center");bp("right");break;case l.RB:bm("bottom");bp("right");break}if(aM){ao.hover(bL,aN)}}else{switch(l[bl]){case l.BL:a3("left");ag(false);break;case l.BC:a3("center");ag(false);break;case l.BR:a3("right");ag(false);break;case l.TL:a3("left");ag(true);break;case l.TC:a3("center");ag(true);break;case l.TR:a3("right");ag(true);break;case l.LT:bm("top");bD(true);break;case l.LC:bm("center");bD(true);break;case l.LB:bm("bottom");bD(true);break;case l.RT:bm("top");bD(false);break;case l.RC:bm("center");bD(false);break;case l.RB:bm("bottom");bD(false);break}}J.css("visibility","visible").click(at)}};var a3=function(bP){J.css({"margin-top":by,"margin-bottom":by,height:Math.max(bg.outerHeight(true),Q.outerHeight(true))});var bO;if(bP=="center"){bO=Math.round((aB-J.width()-by)/2)}else{if(bP=="left"){bO=by}else{bO=aB-J.width()}}J.css("left",bO)};var bm=function(bP){J.css({"margin-left":by,"margin-right":by,width:Math.max(bg.outerWidth(true),Q.outerWidth(true))});var bO;if(bP=="center"){bO=Math.round((bE-J.height()-by)/2)}else{if(bP=="top"){bO=by}else{bO=bE-J.height()}}J.css("top",bO)};var S=function(bQ){var bP,bO;if(bQ=="top"){bO=0;bP=-J.outerHeight(true)}else{bO=bE-J.outerHeight(true);bP=bE}J.data({offset:bP,pos:bO}).css({top:(aM?bP:bO)})};var bp=function(bQ){var bP,bO;if(bQ=="left"){bO=0;bP=-J.outerWidth(true)}else{bO=aB-J.outerWidth(true);bP=aB}J.data({offset:bP,pos:bO}).css({left:(aM?bP:bO)})};var ag=function(bO){J.wrap("<div class='outer-hp'></div>");Z=ao.find(".outer-hp");Z.height(J.outerHeight(true));if(bO){Z.css({"border-top":"none",top:0});a9.css("top",Z.outerHeight())}else{Z.css({"border-bottom":"none",top:bE});a9.css("top",0)}ao.css({height:bE+Z.outerHeight()})};var bD=function(bO){J.wrap("<div class='outer-vp'></div>");Z=ao.find(".outer-vp");Z.width(J.outerWidth(true));if(bO){Z.css({"border-left":"none",left:0});a9.css("left",Z.outerWidth())}else{Z.css({"border-right":"none",left:aB});a9.css("left",0)}ao.css({width:aB+Z.outerWidth()})};var ba=function(){W=Q.find("div.play-btn");var bQ=Q.find("div.prev-btn");var bR=Q.find("div.next-btn");if(aW){bQ.click(aC);bR.click(P)}else{bQ.hide();bR.hide()}if(aU){if(aY){W.addClass("pause")}W.click(ak)}else{W.hide()}if(ah){ao.hover(a1,ae)}if(a8){a9.append("<div class='s-prev'></div><div class='s-next'></div>");aT=a9.find(".s-prev");bj=a9.find(".s-next");aT.click(aC).hover(L,be).mousedown(at);bj.click(P).hover(L,be).mousedown(at);if(aM){aT.css("left",-aT.width());bj.css("margin-left",0);ao.hover(bd,N)}}var bP=Q.find(">div").css({width:an,height:bc}).mouseover(L).mouseout(be).mousedown(at);if(aq){bQ.addClass("up");bR.addClass("down");bP.css("margin-bottom",by);Q.width(bP.outerWidth());if(A){Q.height(Q.find(">div:visible").size()*bP.outerHeight(true))}if(K&&az>an){var bO=az-an;switch(l[bl]){case l.RT:case l.RC:case l.RB:Q.css("margin-left",bO);break;default:Q.css("margin-right",bO)}}}else{bP.css("margin-right",by);Q.height(bP.outerHeight());if(A){Q.width(Q.find(">div:visible").size()*bP.outerWidth(true))}if(K&&ay>bc){var bO=ay-bc;switch(l[bl]){case l.TL:case l.TC:case l.TR:Q.css("margin-bottom",bO);break;default:Q.css("margin-top",bO)}}}};var aK=function(){X=a9.find("#timer").data("pct",1);if(ai){var bO=bJ.timer_align.toLowerCase();X.css("visibility","visible");X.css("top",bO=="top"?0:bE-X.height())}else{X.hide()}};var bi=function(){var bT=af.outerHeight()-af.height();aj.each(function(bZ){var bY=a(this).find(">a:first");var bX=k[a(this).attr("effect")];if(bX==undefined||bX==k["h.slide"]||bX==k["v.slide"]){bX=k[aw]}else{bz(bX)}a(this).data({imgurl:bY.attr("href"),caption:bY.attr("title"),effect:bX,delay:e(a(this).attr("delay"),ac)});bA(a(this),bT);aO[bZ]=a(this);if(a5){a(this).append(bZ+1)}});af.css({width:"auto",height:"auto"}).html("");a2.css("visibility","visible");if(bJ.shuffle){U(K&&bw)}if(K){if(bw){aj.addClass("image");aj.find(">a").removeAttr("title");var bR=aj.find(">a>img");bR.removeAttr("alt");bR.each(function(){if(a(this)[0].complete||a(this)[0].readyState=="complete"){a(this).css({top:(ay-a(this).height())/2,left:(az-a(this).width())/2})}else{a(this).load(function(){a(this).css({top:(ay-a(this).height())/2,left:(az-a(this).width())/2})})}})}aj.css({width:az,height:ay,"line-height":ay+"px"}).mouseover(bC).mouseout(ab).mousedown(at);bg.click(aI);if(aq){aj.css("margin-bottom",by);aS.width(aj.outerWidth());bg.width(aS.width());if(A){bg.height(ap*aj.outerHeight(true))}if((aW||aU)&&(an>az)){var bP=an-az;switch(l[bl]){case l.RT:case l.RC:case l.RB:bg.css("margin-left",bP);break;default:bg.css("margin-right",bP)}}var bV=bE-(Q.height()+by);if(bg.height()>bV){var bO=aj.outerHeight(true);aS.addClass("inside").height(ap*bO);bg.css({height:Math.floor(bV/bO)*bO-by,"margin-bottom":by});var bQ=bg.height()-(aS.height()-by);bg.append("<div class='back-scroll'></div><div class='fwd-scroll'></div>");var bW=bg.find(".back-scroll");var bS=bg.find(".fwd-scroll");bW.css({height:bO,width:"100%"});bS.css({height:bO,width:"100%",top:"100%","margin-top":-bO});bW.hover(function(){bS.show();var bX=-aS.stop(true).position().top*z;aS.stop(true).animate({top:0},bX,"linear",function(){bW.hide()})},a6);bS.hover(function(){bW.show();var bX=(-bQ+aS.stop(true).position().top)*z;aS.stop(true).animate({top:bQ},bX,"linear",function(){bS.hide()})},a6);ao.bind(w,function(){if(!aS.is(":animated")){var bX=aS.position().top+(aD*bO);if(bX<0||bX>bg.height()-aj.outerHeight()){bX=-aD*bO;if(bX<bQ){bX=bQ}aS.stop(true).animate({top:bX},x,function(){a(this).position().top==0?bW.hide():bW.show();a(this).position().top==bQ?bS.hide():bS.show()})}}})}}else{aj.css("margin-right",by);aS.height(aj.outerHeight());bg.height(aS.height());if(A){bg.width(ap*aj.outerWidth(true))}if((aW||aU)&&bc>ay){var bP=bc-ay;switch(l[bl]){case l.TL:case l.TC:case l.TR:bg.css("margin-bottom",bP);break;default:bg.css("margin-top",bP)}}var bU=aB-(Q.width()+by);if(bg.width()>bU){var bO=aj.outerWidth(true);aS.addClass("inside").width(ap*bO);bg.css({width:Math.floor(bU/bO)*bO-by,"margin-right":by});var bQ=bg.width()-(aS.width()-by);bg.append("<div class='back-scroll'></div><div class='fwd-scroll'></div>");var bW=bg.find(".back-scroll");var bS=bg.find(".fwd-scroll");bW.css({width:bO,height:"100%"});bS.css({width:bO,height:"100%",left:"100%","margin-left":-bO});bW.hover(function(){bS.show();var bX=-aS.stop(true).position().left*z;aS.stop(true).animate({left:0},bX,"linear",function(){bW.hide()})},a6);bS.hover(function(){bW.show();var bX=(-bQ+aS.stop(true).position().left)*z;aS.stop(true).animate({left:bQ},bX,"linear",function(){bS.hide()})},a6);ao.bind(w,function(){if(!aS.is(":animated")){var bX=aS.position().left+(aD*bO);if(bX<0||bX>bg.width()-aj.outerWidth()){bX=-aD*bO;if(bX<bQ){bX=bQ}aS.stop(true).animate({left:bX},x,function(){a(this).position().left==0?bW.hide():bW.show();a(this).position().left==bQ?bS.hide():bS.show()})}}})}}bB()}else{aj.hide()}};var bA=function(bO,bQ){var bP=bO.find(">div:hidden");var bS=e(parseInt(bP.css("width"))-bQ,300);var bR=e(parseInt(bP.css("height"))-bQ,0);af.width(bS).html(bP.html());if(bR<af.height()){bR=af.height()}bO.data("textbox",{x:bP.css("left"),y:bP.css("top"),w:bS+bQ,h:bR+bQ+1,color:bP.css("color"),bgcolor:bP.css("background-color")})};var bB=function(){if(ar=="text"){a("body").append("<div id='rotator-tooltip'><div class='tt-txt'></div></div>");R=a("body").find("#rotator-tooltip");aj.mouseover(bG).mouseout(aZ).mousemove(Y);switch(l[bl]){case l.TL:case l.TC:case l.TR:R.data("bottom",true).addClass("txt-down");break;default:R.data("bottom",false).addClass("txt-up")}}else{if(ar=="image"){var bR="<div id='rotator-tooltip'>";for(var bQ=0;bQ<ap;bQ++){var bP=aO[bQ].find(">a:first>img");if(bP.size()==1){bR+="<img src='"+bP.attr("src")+"' />"}else{bR+="<img/>"}}bR+="</div>";a("body").append(bR);R=a("body").find("#rotator-tooltip");switch(l[bl]){case l.TL:case l.TC:case l.TR:aj.mouseover(bu);R.data("bottom",true).addClass("img-down");break;case l.LT:case l.LC:case l.LB:aj.mouseover(aJ);R.data("right",true).addClass("img-right");break;case l.RT:case l.RC:case l.RB:aj.mouseover(aJ);R.data("right",false).addClass("img-left");break;default:aj.mouseover(bu);R.data("bottom",false).addClass("img-up")}aj.mouseout(aZ)}}if(jQuery.browser.msie&&parseInt(jQuery.browser.version)<=6){try{R.css("background-image","none").children().css("margin",0)}catch(bO){}}};var bu=function(bP){var bO=R.find(">img").eq(a(this).index());if(bO.attr("src")){R.find(">img").hide();bO.show();if(bO[0].complete||bO[0].readyState=="complete"){var bR=R.data("bottom")?a(this).outerHeight():-R.outerHeight();var bQ=a(this).offset();R.css({top:bQ.top+bR,left:bQ.left+((a(this).outerWidth()-R.outerWidth())/2)}).stop(true,true).delay(o).fadeIn(300)}}};var aJ=function(bQ){var bO=R.find(">img").eq(a(this).index());if(bO.attr("src")){R.find(">img").hide();bO.show();if(bO[0].complete||bO[0].readyState=="complete"){var bP=R.data("right")?a(this).outerWidth():-R.outerWidth();var bR=a(this).offset();R.css({top:bR.top+((a(this).outerHeight()-R.outerHeight())/2),left:bR.left+bP}).stop(true,true).delay(o).fadeIn(300)}}};var bG=function(bP){var bO=aO[a(this).index()].data("caption");if(bO!=""){R.find(">div.tt-txt").html(bO);var bQ=R.data("bottom")?0:-R.outerHeight(true);R.css({top:bP.pageY+bQ,left:bP.pageX}).stop(true,true).delay(o).fadeIn(300)}};var Y=function(bO){var bP=R.data("bottom")?0:-R.outerHeight(true);R.css({top:bO.pageY+bP,left:bO.pageX})};var aZ=function(){R.stop(true,true).fadeOut(0)};var bL=function(){if(!aq){J.stop(true).animate({top:J.data("pos"),opacity:1},x)}else{J.stop(true).animate({left:J.data("pos"),opacity:1},x)}};var aN=function(){if(!aq){J.stop(true).animate({top:J.data("offset"),opacity:0},x)}else{J.stop(true).animate({left:J.data("offset"),opacity:0},x)}};var bd=function(){aT.stop(true).animate({left:0},x);bj.stop(true).animate({"margin-left":-bj.width()},x)};var N=function(){aT.stop(true).animate({left:-aT.width()},x);bj.stop(true).animate({"margin-left":0},x)};var aI=function(bQ){var bO=a(bQ.target);if(bO[0].nodeName!="LI"){bO=bO.parents("li").eq(0)}var bP=bO.index();if(bP>-1&&bP!=aD){am=bP<aD?F:G;bv();O=aD;aD=bP;aR(aD);aZ()}return false};var bC=function(){a(this).addClass("thumb-over")};var ab=function(){a(this).removeClass("thumb-over")};var aC=function(){am=F;bv();O=aD;aD=(aD>0)?(aD-1):(ap-1);aR(aD);return false};var P=function(){am=G;bv();O=aD;aD=(aD<ap-1)?(aD+1):0;aR(aD);return false};var ak=function(){aY=!aY;a(this).toggleClass("pause",aY);aY?a7():T();return false};var ae=function(){aY=true;W.toggleClass("pause",aY);a7()};var a1=function(){aY=false;W.toggleClass("pause",aY);T()};var aP=function(bO){if(bO==ap-1){aY=false;W.toggleClass("pause",aY)}};var L=function(){a(this).addClass("button-over")};var be=function(){a(this).removeClass("button-over")};var bk=function(bP){if(!a2.data("visible")){a2.data("visible",true);var bQ=aO[aD].find(">div:first").html();if(bQ&&bQ.length>0){var bO=aO[aD].data("textbox");af.css("color",bO.color);a2.find(".inner-bg").css({"background-color":bO.bgcolor,height:bO.h-1});switch(B[aH]){case B.fade:bb(bQ,bO);break;case B.down:bx(bQ,bO,{width:bO.w,height:0},{height:bO.h});break;case B.right:bx(bQ,bO,{width:0,height:bO.h},{width:bO.w});break;case B.left:bx(bQ,bO,{"margin-left":bO.w,width:0,height:bO.h},{width:bO.w,"margin-left":0});break;case B.up:bx(bQ,bO,{"margin-top":bO.h,height:0,width:bO.w},{height:bO.h,"margin-top":0});break;default:bM(bQ,bO)}}}};var bF=function(){a2.data("visible",false).stop(true,true);switch(B[aH]){case B.fade:case B.down:case B.right:case B.left:case B.up:if(jQuery.browser.msie){af.css("opacity",0)}a2.fadeOut(x,function(){a(this).css("display","none")});break;default:a2.css("display","none")}};var bx=function(bR,bQ,bP,bO){af.css("opacity",1).html("");a2.stop(true,true).css({display:"block",top:bQ.y,left:bQ.x,"margin-top":0,"margin-left":0}).css(bP).animate(bO,x,function(){af.html(bR)})};var bb=function(bP,bO){af.css("opacity",1).html(bP);a2.css({top:bO.y,left:bO.x,width:bO.w,height:bO.h}).stop(true,true).fadeIn(x,function(){if(jQuery.browser.msie){af[0].style.removeAttribute("filter")}})};var bM=function(bP,bO){a2.stop(true).css({display:"block",top:bO.y,left:bO.x,width:bO.w,height:bO.h});af.html(bP)};var al=function(){ao.unbind(g).bind(g,bk).trigger(g)};var au=function(){ao.unbind(g);bF()};var aR=function(bQ){ao.trigger(w);if(aG){aP(bQ)}aj.filter(".curr-thumb").removeClass("curr-thumb");aj.eq(bQ).addClass("curr-thumb");M=aO[bQ].data("delay");bF();if(!bK){ao.trigger(g)}if(aE){var bR=aO[bQ].find(">a:nth-child(2)");var bO=bR.attr("href");if(bO){aE.unbind("click",at).css("cursor","pointer").attr({href:bO,target:bR.attr("target")})}else{aE.click(at).css("cursor","default")}}if(aO[bQ].data("img")){I.hide();aX(aO[bQ].data("img"))}else{var bP=a("<img class='main-img'/>");bP.load(function(){I.hide();bH(aO[bQ],a(this));aX(a(this))}).error(function(){alert("Error loading image")});I.show();bP.attr("src",aO[bQ].data("imgurl"))}};var aX=function(bO){if(a4){V.clear();aA()}if(bo){a0.clear();aA()}if(ax){bf.clear();aA()}var bP=aO[aD].data("effect");if(bP==k.none||bP==undefined){H(bO);return}else{if(bP==k.fade){bs(bO);return}else{if(bP==k["h.slide"]){bh(bO,"left",aB);return}else{if(bP==k["v.slide"]){bh(bO,"top",bE);return}}}}if(bP==k.random){bP=Math.floor(Math.random()*(f-5))}if(bP<=k["spiral.out"]){bf.displayContent(bO,bP)}else{if(bP<=k["vert.random.fade"]){V.displayContent(bO,bP)}else{a0.displayContent(bO,bP)}}};var aA=function(){if(O>=0){var bP=aE.find("img#curr-img").attr("src");var bQ=aO[O].data("imgurl");if(bP!=bQ){aE.find("img.main-img").attr("id","").hide();var bO=aE.find("img.main-img").filter(function(){return a(this).attr("src")==bQ});bO.eq(0).show()}}};var H=function(bO){if(bK){ao.trigger(g)}aE.find("img.main-img").attr("id","").hide();bO.attr("id","curr-img").show();a7()};var bs=function(bO){aE.find("img#curr-img").stop(true,true);aE.find("img.main-img").attr("id","").css("z-index",0);bO.attr("id","curr-img").stop(true,true).css({opacity:0,"z-index":1}).show().animate({opacity:1},aF,bn,function(){aE.find("img.main-img:not('#curr-img')").hide();if(bK){ao.trigger(g)}a7()})};var bh=function(bS,bU,bR){bq.stop(true,true);var bO=a("#curr-img",bq);if(bO.size()>0){bq.find(".main-img").attr("id","").parents(".content-box").css({top:0,left:0});bS.attr("id","curr-img").parents(".content-box").show();var bQ,bP;if(am==F){bq.css(bU,-bR);bQ=bO;bP=0}else{bQ=bS;bP=-bR}bQ.parents(".content-box").css(bU,bR);var bT=(bU=="top")?{top:bP}:{left:bP};bq.stop(true,true).animate(bT,aF,bn,function(){bq.find(".main-img:not('#curr-img')").parents(".content-box").hide();bq.find("#curr-img").parents(".content-box").show();bQ.parents(".content-box").css({top:0,left:0});bq.css({top:0,left:0});if(bK){ao.trigger(g)}a7()})}else{bq.css({top:0,left:0});bq.find(".main-img").parents(".content-box").hide().css({top:0,left:0});bS.attr("id","curr-img").parents(".content-box").show();if(bK){ao.trigger(g)}a7()}};var br=function(bP){try{var bO=aO[bP];var bR=a("<img class='main-img'/>");bR.load(function(){if(!bO.data("img")){bH(bO,a(this))}bP++;if(bP<ap){br(bP)}}).error(function(){bP++;if(bP<ap){br(bP)}});bR.attr("src",bO.data("imgurl"))}catch(bQ){}};var bH=function(bQ,bR){if(aw=="h.slide"||aw=="v.slide"){bq.append(bR);aQ(bR);var bO=a("<div class='content-box'></div>").css({width:aB,height:bE});bR.wrap(bO);bR.css("display","block");var bP=bQ.find(">a:nth-child(2)");if(bP){bR.wrap(bP)}}else{aE.append(bR);aQ(bR)}bQ.data("img",bR)};var aQ=function(bR){if(ad&&bR.width()>0&&bR.height()>0){var bU=(bE-bR.height())/2;var bQ=(aB-bR.width())/2;var bT=0,bS=0,bP=0,bO=0;if(bU>0){bP=bU}else{if(bU<0){bT=bU}}if(bQ>0){bO=bQ}else{if(bQ<0){bS=bQ}}bR.css({top:bT,left:bS,"padding-top":bP,"padding-bottom":bP,"padding-left":bO,"padding-right":bO})}};var a7=function(){if(aY&&bt==null){var bO=Math.round(X.data("pct")*M);X.animate({width:(aB+1)},bO,"linear");bt=setTimeout(P,bO)}};var bv=function(){clearTimeout(bt);bt=null;X.stop(true).width(0).data("pct",1)};var T=function(){clearTimeout(bt);bt=null;var bO=1-(X.width()/(aB+1));X.stop(true).data("pct",bO)};var a6=function(){aS.stop(true)};var U=function(){for(var bQ=0;bQ<aO.length;bQ++){var bO=Math.floor(Math.random()*aO.length);var bP=aO[bQ];aO[bQ]=aO[bO];aO[bO]=bP}};var U=function(bR){if(bR){for(var bQ=0;bQ<ap;bQ++){aO[bQ]=aj.eq(bQ).clone(true)}}for(var bQ=0;bQ<ap;bQ++){var bO=Math.floor(Math.random()*ap);var bP=aO[bQ];aO[bQ]=aO[bO];aO[bO]=bP}if(bR){for(var bQ=0;bQ<ap;bQ++){aj.eq(bQ).replaceWith(aO[bQ])}aj=aS.find(">li")}};var bz=function(bO){if(bO==k.random){ax=bo=a4=true}else{if(bO<=k["spiral.out"]){ax=true}else{if(bO<=k["vert.random.fade"]){a4=true}else{if(bO<=k["horz.random.fade"]){bo=true}}}}};var at=function(){return false};this.undoChanges=function(){bv();if(a4){V.clear()}if(bo){a0.clear()}if(ax){bf.clear()}a("#rotator-tooltip").remove();bN.empty();bN.append(av)};this.updateChanges=function(){this.init()};this.setMouseoverPause=function(bO){ah=bO};this.setMouseoverText=function(bO){aL=bO};this.setMouseoverCPanel=function(bO){aM=bO};this.setTransition=function(bO){aw=bO};this.setEasing=function(bO){bn=bO};this.setTextEffect=function(bO){aH=bO};this.setThumbs=function(bO){K=bO};this.setDButtons=function(bO){aW=bO};this.setPlayButton=function(bO){aU=bO};this.setTimerBar=function(bO){ai=bO};this.setSideButtons=function(bO){a8=bO};this.setThumbImg=function(bO){bw=bO;if(bw){az=ay=45;a5=false}else{az=ay=24;a5=true}};this.setCpanelAlign=function(bO){bl=bO};this.setCpanelPos=function(bO){aa=bO};this.setTooltipType=function(bO){ar=bO}}var e=function(H,I){if(!isNaN(H)&&H>0){return H}return I};var E=function(H,I){if(!isNaN(H)&&H>=0){return H}return I};var u=function(H){var L=H.length;for(var K=0;K<L;K++){var I=Math.floor(Math.random()*L);var J=H[K];H[K]=H[I];H[I]=J}};var q={width:825,height:300,thumb_width:24,thumb_height:24,button_width:24,button_height:24,button_margin:4,auto_start:true,delay:r,transition:"fade",transition_speed:y,cpanel_position:m,cpanel_align:"BR",timer_align:"top",display_thumbs:true,display_side_buttons:false,display_dbuttons:true,display_playbutton:true,display_imgtooltip:true,display_numbers:true,display_thumbimg:false,display_timer:true,mouseover_pause:false,cpanel_mouseover:false,text_mouseover:false,text_effect:"fade",text_sync:true,tooltip_type:"text",shuffle:false,play_once:false,auto_center:false,block_size:h,vert_size:c,horz_size:c,block_delay:25,vstripe_delay:75,hstripe_delay:75,easing:""};var t=a.extend({},q,D);return this.each(function(){b=new C(a(this),t);b.init()})}})(jQuery);